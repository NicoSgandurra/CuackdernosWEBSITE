<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuackdernos - Diseña tu Cuaderno</title>

    <!-- Script para evitar el parpadeo blanco al cargar en modo oscuro -->
    <script>
        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>

    <!-- Fuentes Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&family=Space+Mono:ital@0;1&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class', // Habilita el modo oscuro basado en clases
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Quicksand', 'sans-serif'],
                        mono: ['Space Mono', 'monospace'],
                    },
                    colors: {
                        dark: {
                            bg: '#1a1a24',
                            card: '#232332',
                            border: '#333344',
                            accent: '#bfaee3', // Morado pastel nocturno
                            accentHover: '#a892d6'
                        }
                    },
                    boxShadow: {
                        'soft': '0 10px 40px -10px rgba(253, 226, 228, 0.8)',
                        'soft-dark': '0 10px 40px -10px rgba(0, 0, 0, 0.5)',
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="style.css">
</head>

<body class="text-gray-700 dark:text-gray-200 min-h-screen p-4 md:p-8 flex flex-col items-center pt-16 md:pt-8">

    <!-- Botón Modo Oscuro Fijo en la esquina -->
    <button id="theme-toggle" type="button"
        class="fixed top-4 right-4 md:top-6 md:right-6 z-50 text-gray-500 dark:text-gray-400 hover:text-rose-500 dark:hover:text-dark-accent hover:bg-gray-50 dark:hover:bg-gray-800 rounded-full text-sm p-3 transition-all duration-300 shadow-md hover:shadow-lg hover:-translate-y-1 bg-white dark:bg-dark-card border border-gray-100 dark:border-dark-border">
        <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg">
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
        </svg>
        <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg">
            <path
                d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                fill-rule="evenodd" clip-rule="evenodd"></path>
        </svg>
    </button>

    <header class="text-center mb-8 max-w-2xl w-full">
        <!-- Logo de la empresa (Más pequeño y con animación sutil) -->
        <img src="assets/Logo cuackdernos.png" alt="Cuackdernos Logo"
            class="w-48 md:w-56 h-auto mx-auto mb-4 drop-shadow-sm dark:drop-shadow-[0_0_15px_rgba(191,174,227,0.15)] object-contain transition-all duration-500 ease-out hover:scale-105 hover:-translate-y-1 hover:drop-shadow-lg dark:hover:drop-shadow-[0_0_20px_rgba(191,174,227,0.3)]">

        <p class="text-gray-500 dark:text-gray-400 text-lg">Personaliza el tamaño, los discos y el interior para crear
            el cuaderno de tus sueños. ✨</p>
    </header>

    <main class="w-full max-w-7xl flex flex-col lg:flex-row gap-8 items-start">

        <!-- COLUMNA IZQUIERDA: CONTROLES -->
        <section
            class="w-full lg:w-[55%] bg-white dark:bg-dark-card rounded-[3rem] p-6 md:p-8 shadow-soft dark:shadow-soft-dark border border-transparent dark:border-dark-border flex flex-col gap-8 order-1 lg:order-none">

            <!-- 1. Tamaño -->
            <div>
                <h3 class="text-lg font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span
                        class="bg-rose-100 dark:bg-dark-accent/20 text-rose-500 dark:text-dark-accent rounded-full w-8 h-8 flex items-center justify-center">1</span>
                    Elige el Tamaño
                </h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-3" id="size-options"></div>
            </div>

            <!-- 2. Posición de Discos -->
            <div>
                <h3 class="text-lg font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span
                        class="bg-rose-100 dark:bg-dark-accent/20 text-rose-500 dark:text-dark-accent rounded-full w-8 h-8 flex items-center justify-center">2</span>
                    Posición de Sujeción
                </h3>
                <div class="flex gap-3" id="position-options">
                    <button class="option-btn flex-1 py-3 px-4 rounded-2xl border-2 text-center cursor-pointer"
                        onclick="setDiscPosition('left')" id="btn-pos-left">
                        Lado Izquierdo
                    </button>
                    <button class="option-btn flex-1 py-3 px-4 rounded-2xl border-2 text-center cursor-pointer"
                        onclick="setDiscPosition('top')" id="btn-pos-top">
                        Lado Superior
                    </button>
                </div>
            </div>

            <!-- 3. Tamaño de Discos -->
            <div>
                <h3 class="text-lg font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span
                        class="bg-rose-100 dark:bg-dark-accent/20 text-rose-500 dark:text-dark-accent rounded-full w-8 h-8 flex items-center justify-center">3</span>
                    Tamaño de Discos
                </h3>
                <div class="flex flex-col sm:flex-row gap-3" id="disc-size-options">
                    <button
                        class="option-btn flex-1 py-3 px-4 rounded-2xl border-2 text-center cursor-pointer flex flex-col items-center justify-center"
                        onclick="setDiscSize('normal')" id="btn-disc-normal">
                        <span>Normales (24mm)</span>
                        <span class="text-xs opacity-80 mt-1 font-normal">Hasta 130 hojas (75gr)</span>
                    </button>
                    <button
                        class="option-btn flex-1 py-3 px-4 rounded-2xl border-2 text-center cursor-pointer flex flex-col items-center justify-center"
                        onclick="setDiscSize('grande')" id="btn-disc-grande">
                        <span>Grandes (32mm) <span class="text-xs">+ $1500</span></span>
                        <span class="text-xs opacity-80 mt-1 font-normal">Hasta 200 hojas (75gr)</span>
                    </button>
                </div>
            </div>

            <!-- 4. Tipo de Interior y Hojas -->
            <div class="bg-gray-50 dark:bg-[#1f1f2e] p-5 rounded-3xl border border-gray-100 dark:border-dark-border">
                <h3 class="text-lg font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2">
                    <span
                        class="bg-rose-100 dark:bg-dark-accent/20 text-rose-500 dark:text-dark-accent rounded-full w-8 h-8 flex items-center justify-center">4</span>
                    Configuración Interior
                </h3>

                <div class="mb-4">
                    <p class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2">Contenido principal:</p>
                    <div class="flex flex-wrap gap-2" id="type-options"></div>
                </div>

                <div>
                    <p class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2">Tipo de hojas
                        (Apuntes/Adicionales):</p>
                    <div class="flex flex-wrap gap-2" id="sheet-options"></div>
                </div>
            </div>

            <!-- 5. Diseño de Portada (Temas) -->
            <div>
                <h3 class="text-lg font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2">
                    <span
                        class="bg-rose-100 dark:bg-dark-accent/20 text-rose-500 dark:text-dark-accent rounded-full w-8 h-8 flex items-center justify-center">5</span>
                    Tema de Portada
                </h3>

                <div class="grid grid-cols-3 sm:grid-cols-4 gap-3 mb-4" id="theme-options"></div>

                <div id="solid-color-selector"
                    class="hidden animate-fade-in bg-pink-50/50 dark:bg-dark-accent/10 p-4 rounded-2xl border border-pink-100 dark:border-dark-accent/20">
                    <p class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3">Elige tu color preferido:</p>
                    <div class="flex flex-wrap gap-3 items-center" id="cover-colors"></div>
                </div>
            </div>

            <!-- 6. Colores de Discos -->
            <div
                class="bg-gray-50 dark:bg-[#1f1f2e] p-6 rounded-3xl border border-gray-100 dark:border-dark-border relative">
                <h3 class="text-lg font-bold text-gray-700 dark:text-gray-200 mb-2 flex items-center gap-2">
                    <span
                        class="bg-rose-100 dark:bg-dark-accent/20 text-rose-500 dark:text-dark-accent rounded-full w-8 h-8 flex items-center justify-center">6</span>
                    Paleta de Discos
                </h3>

                <div class="mb-4">
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-2 font-medium" id="color-instruction">
                        Aplicar color a <strong>Todos los discos</strong>:
                    </p>
                    <div class="flex flex-wrap gap-3" id="disc-colors"></div>
                </div>

                <div class="flex items-center gap-3">
                    <button onclick="selectAllDiscs()"
                        class="text-sm bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border px-4 py-2 rounded-xl hover:bg-gray-100 dark:hover:bg-[#2a2a3a] transition shadow-sm font-semibold text-rose-400 dark:text-dark-accent">
                        Volver a seleccionar todos
                    </button>
                </div>
            </div>
        </section>

        <!-- COLUMNA DERECHA: VISUALIZADOR Y CHECKOUT -->
        <section class="w-full lg:w-[45%] flex flex-col gap-6 lg:sticky lg:top-8 order-2 lg:order-none">

            <!-- Vista Previa del Cuaderno -->
            <div
                class="bg-white dark:bg-dark-card rounded-[3rem] p-6 shadow-soft dark:shadow-soft-dark border border-transparent dark:border-dark-border flex flex-col items-center justify-center">

                <!-- Botones Girar -->
                <div
                    class="flex gap-2 bg-gray-100 dark:bg-[#1f1f2e] p-1 rounded-full mb-8 z-20 shadow-inner dark:shadow-none border dark:border-dark-border">
                    <button onclick="setView('front')" id="btn-view-front"
                        class="px-5 py-2 rounded-full font-bold text-sm transition-all">Portada</button>
                    <button onclick="setView('back')" id="btn-view-back"
                        class="px-5 py-2 rounded-full font-bold text-sm transition-all">Contraportada</button>
                </div>

                <div class="relative flex justify-center items-center w-full min-h-[480px]">
                    <div id="notebook-wrapper" class="relative">
                        <div id="discs-container" class="absolute flex justify-evenly z-10"></div>
                        <div id="notebook-cover"
                            class="notebook-page w-full relative overflow-hidden flex items-center justify-center bg-center bg-cover bg-no-repeat border border-black/5 dark:border-white/5">
                        </div>
                    </div>
                </div>

                <p class="text-sm text-gray-400 dark:text-gray-500 mt-8 text-center italic px-4">
                    * Toca un disco específico para cambiar su color individualmente.
                </p>
            </div>

            <!-- Total y Botón -->
            <div
                class="bg-white dark:bg-dark-card rounded-[3rem] p-6 md:p-8 shadow-soft dark:shadow-soft-dark border border-transparent dark:border-dark-border flex flex-col items-center text-center gap-4">
                <p class="text-gray-400 dark:text-gray-500 text-sm font-bold uppercase tracking-wide">Costo Estimado</p>
                <p class="text-5xl font-bold text-rose-500 dark:text-dark-accent mb-2 transition-colors"
                    id="total-price">$0</p>

                <button onclick="sendWhatsApp()"
                    class="w-full bg-rose-400 hover:bg-rose-500 dark:bg-dark-accent dark:hover:bg-dark-accentHover text-white dark:text-dark-bg font-bold py-4 px-8 rounded-2xl shadow-lg shadow-rose-200 dark:shadow-dark-accent/20 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2 text-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="currentColor">
                        <path
                            d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.347-.272.297-1.04 1.016-1.04 2.479 0 1.463 1.065 2.876 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
                    </svg>
                    Encargar mi cuaderno
                </button>
            </div>

        </section>
    </main>

    <footer
        class="w-full text-center py-6 mt-8 border-t border-gray-100 dark:border-dark-border text-gray-500 dark:text-gray-400 text-sm">
        &copy; 2026 Cuackdernos. Todos los derechos reservados.
    </footer>

    <script src="script.js"></script>
</body>

</html>